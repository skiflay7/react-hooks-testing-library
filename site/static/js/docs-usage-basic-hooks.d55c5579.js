(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./docs/usage/basic-hooks.md":function(e,t,n){"use strict";var o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=o(n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends.js")),a=o(n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js")),s=(o(n("./node_modules/react/index.js")),n("./node_modules/@mdx-js/react/dist/index.es.js")),u={},l="wrapper";function d(e){var t=e.components,n=(0,a.default)(e,["components"]);return(0,s.mdx)(l,(0,r.default)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,s.mdx)("h1",{id:"basic-hooks"},"Basic Hooks"),(0,s.mdx)("h2",{id:"rendering"},"Rendering"),(0,s.mdx)("p",null,"Imagine we have a simple hook that we want to test:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",(0,r.default)({parentName:"pre"},{className:"language-js"}),"import { useState, useCallback } from 'react'\n\nexport default function useCounter() {\n  const [count, setCount] = useState(0)\n  const increment = useCallback(() => setCount(count + 1), [count])\n  return { count, increment }\n}\n")),(0,s.mdx)("p",null,"To test ",(0,s.mdx)("inlineCode",{parentName:"p"},"useCounter")," we need to render it using the ",(0,s.mdx)("inlineCode",{parentName:"p"},"renderHook")," function to provided by ",(0,s.mdx)("inlineCode",{parentName:"p"},"react-hooks-testing-library"),":"),(0,s.mdx)("pre",null,(0,s.mdx)("code",(0,r.default)({parentName:"pre"},{className:"language-js"}),"import { renderHook } from 'react-hooks-testing-library'\nimport useCounter from './useCounter'\n\ntest('should use counter', () => {\n  const { result } = renderHook(() => useCounter())\n\n  expect(result.current.count).toBe(0)\n  expect(typeof result.current.increment).toBe('function')\n})\n")),(0,s.mdx)("p",null,"As you can see, the result's current value matches what is returned by our hook."),(0,s.mdx)("h2",{id:"updates"},"Updates"),(0,s.mdx)("p",null,"The test shown above is great and all, but it doesn't actually test what we want to use the counter for, i.e. counting. We can easily improve this test by calling the ",(0,s.mdx)("inlineCode",{parentName:"p"},"increment")," function and checking that the ",(0,s.mdx)("inlineCode",{parentName:"p"},"count")," value increases:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",(0,r.default)({parentName:"pre"},{className:"language-js"}),"import { renderHook, act } from 'react-hooks-testing-library'\nimport useCounter from './useCounter'\n\ntest('should increment counter', () => {\n  const { result } = renderHook(() => useCounter())\n\n  act(() => {\n    result.current.increment()\n  })\n\n  expect(result.current.count).toBe(1)\n})\n")),(0,s.mdx)("p",null,"After ",(0,s.mdx)("inlineCode",{parentName:"p"},"increment")," is called, the current ",(0,s.mdx)("inlineCode",{parentName:"p"},"count")," value now reflects the new value returned by our hook."),(0,s.mdx)("p",null,"You may have also noticed that we also wrapped the ",(0,s.mdx)("inlineCode",{parentName:"p"},"increment")," call in ",(0,s.mdx)("inlineCode",{parentName:"p"},"act"),". This utility simulates how our hook will act in a browser, allowing us to update the values within it. For more details on ",(0,s.mdx)("inlineCode",{parentName:"p"},"act"),", please see the ",(0,s.mdx)("a",(0,r.default)({parentName:"p"},{href:"https://fb.me/react-wrap-tests-with-act"}),"React documentation"),"."),(0,s.mdx)("p",null,"So there we have it, the first test for our ",(0,s.mdx)("inlineCode",{parentName:"p"},"useCounter")," hook."))}d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs/usage/basic-hooks.md"}}),d.isMDXComponent=!0}}]);
//# sourceMappingURL=docs-usage-basic-hooks.d3b2c5d5b76f34507b97.js.map